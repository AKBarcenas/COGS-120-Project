
<!doctype html>

<html>
<head>
<!-- Google Analytics Content Experiment code -->
<script>function utmx_section(){}function utmx(){}(function(){var
k='133837019-0',d=document,l=d.location,c=d.cookie;
if(l.search.indexOf('utm_expid='+k)>0)return;
function f(n){if(c){var i=c.indexOf(n+'=');if(i>-1){var j=c.
indexOf(';',i);return escape(c.substring(i+n.length+1,j<0?c.
length:j))}}}var x=f('__utmx'),xx=f('__utmxx'),h=l.hash;d.write(
'<sc'+'ript src="'+'http'+(l.protocol=='https:'?'s://ssl':
'://www')+'.google-analytics.com/ga_exp.js?'+'utmxkey='+k+
'&utmx='+(x?x:'')+'&utmxx='+(xx?xx:'')+'&utmxtime='+new Date().
valueOf()+(h?'&utmxhash='+escape(h.substr(1)):'')+
'" type="text/javascript" charset="utf-8"><\/sc'+'ript>')})();
</script><script>utmx('url','A/B');</script>
<!-- End of Google Analytics Content Experiment code -->

    <title>Preferences | Food.AI</title>  
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="/css/bootstrap.css" rel="stylesheet">
    <link href="/css/bootstrap-theme.css" rel="stylesheet">
    <link href="/css/style.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.5.2/animate.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <link href="https://fonts.googleapis.com/css?family=Work+Sans" rel="stylesheet">
<link rel='shortcut icon' href='/images/favicon.ico' type='image/x-icon'/ >

    <script>
       //Toggles for click to expand
      $(document).ready(function(){$("#favorites-toggle").click(function(){$("#favorites").toggle();});})
      $(document).ready(function(){$("#recommendations-toggle").click(function(){$("#recommendations").toggle();});})
      $(document).ready(function(){$("#past-toggle").click(function(){$("#past").toggle();});})
      $(document).ready(function(){$("#preferences-toggle").click(function(){$("#preferences").toggle();});})
    </script>
</head>
 <!-- Body-->
  <body>

    <!-- Nav Bar -->
    <nav class="navbar navbar-default">
  <div class="container-fluid">
    <div class="navbar-header">

      <a class="navbar-brand" href="../chat/">
        <img src="/images/icon.png"  class="img" width="30"></img>  Food.AI</a>
		<a href="../about/" style="float: right; padding-right: 10px; padding-top: 15px;">About</a> 
        <a href="../preferences/" style="float: right; padding-right: 10px; padding-top: 15px; color:white">Preferences</a>      
        <a href="../profile/" style="float: right; padding-right: 10px; padding-top: 15px;">Profile</a>
        <a href="../chat/" style="float: right; padding-right: 10px; padding-top: 15px;">Chat</a>
    </div>
   
  </div>
</nav>
	<!-- this is a comment in HTML -->
	<div class="container">
	
	<!-- lol what's indenting -->
	<!-- start form -->
	<!--  onsubmit="return checkWholeForm46465(this)"
	form name="addUser" method="post" enctype="multipart/form-data" action="/FormProcessv2.aspx?WebFormID=83516&OID={module_oid}&OTYPE={module_otype}&EID={module_eid}&CID={module_cid}&JSON=1" id="contact_form">
	-->
	
	{{#if showAlternate}}
	<center>
    	<a href="/chat/" type="button" class="btn btn-default btn-lg animated fadeInUp topSkip" id="topSkip" style="margin-top: 15px;" onclick="topSkip();">
    		SKIP FOR NOW <span class="glyphicon glyphicon-forward" aria-hidden="true"></span>
    	</a>
    </center>
    {{else}}
    	<!-- Don't worry about this -->
	{{/if}}
	
	
	
    <center class="animated fadeIn">

    <h1>GENERAL</h1>
	<h2>How far are you willing to travel?</h2>
	<label for="fader">Distance (mi): </label> 
	<output for="fader" id="miles" style="display: inline; position: relative; top: -2px; font-size: 18px;">10</output>
	<br>
	<input type="range" name="distance" min="1" max="50" value="10" id="fader" step="1" oninput="outputMiles(value)" style="width: 240px;">
	
	<h2>Maximum price per person?</h2>
	<label for="fader">Price ($): </label> 
	<output for="fader" id="dollars" style="display: inline; position: relative; top: -2px; font-size: 18px;">10</output>
	<br>
	<input type="range" name="price" min="1" max="100" value="10" id="fader" step="1" oninput="outputDollars(value)" style="width:240px;">

<h2>Got any allergies?</h2>
	<!-- Taken from http://www.prepbootstrap.com/bootstrap-template/multi-select-buttons -->
  <div class="container">
  <!-- deez buttons -->
    <div class="row">
        <div class="form-group">
            <div class="items-collection">
                <div class="items col-xs-6 col-sm-3 col-md-3 col-lg-3">
                    <div class="info-block block-info clearfix">
                        <div data-toggle="buttons" class="btn-group bizmoduleselect">
                            <label class="btn btn-default" id="deeznutbutton">
                                <div class="itemcontent" onclick="toggleNuts();">
                                    <input type="checkbox" id="deeznuts" name="nuts" autocomplete="off" value="nuts">
                                    <span class="fa fa-car fa-2x"></span>
                                    <h5>Peanuts/Nuts</h5>
                                </div>
                            </label>
                        </div>
                    </div>
                </div>
                <div class="items col-xs-6 col-sm-3 col-md-3 col-lg-3">
                    <div class="info-block block-info clearfix">
                        <div data-toggle="buttons" class="btn-group itemcontent">
                            <label class="btn btn-default" id="soybutton">
                                <div class="itemcontent" onclick="toggleSoy();">
                                    <input type="checkbox" id="deezsoy" name="soy" autocomplete="off" value="soy">
                                    <span class="fa fa-truck fa-2x"></span>
                                    <h5>Soy</h5>
                                </div>
                            </label>
                        </div>
                    </div>
                </div>
                <div class="items col-xs-6 col-sm-3 col-md-3 col-lg-3">
                    <div class="info-block block-info clearfix">
                        <div data-toggle="buttons" class="btn-group itemcontent">
                            <label class="btn btn-default" id="eggbutton">
                                <div class="itemcontent" onclick="toggleEggs();">
                                    <input type="checkbox" id="deezeggs" name="egg" autocomplete="off" value="egg">
                                    <span class="fa fa-truck fa-2x"></span>
                                    <h5>Egg</h5>
                                </div>
                            </label>
                        </div>
                    </div>
                </div>

                <div class="items col-xs-6 col-sm-3 col-md-3 col-lg-3">
                    <div class="info-block block-info clearfix">
                        <div data-toggle="buttons" class="btn-group itemcontent">
                            <label class="btn btn-default" id="glutenbutton">
                                <div class="itemcontent" onclick="toggleGluten();">
                                    <input type="checkbox" id="deezglutens" name="gluten" autocomplete="off" value="gluten">
                                    <span class="fa fa-laptop fa-2x"></span>
                                    <h5>Gluten</h5>
                                </div>
                            </label>
                        </div>
                    </div>
                </div>
                <div class="items col-xs-6 col-sm-3 col-md-3 col-lg-3">
                    <div class="info-block block-info clearfix">
                        <div data-toggle="buttons" class="btn-group itemcontent">
                            <label class="btn btn-default" id="fishbutton">
                                <div class="itemcontent" onclick="toggleFish();">
                                    <input type="checkbox" id="deezfish" name="fish" autocomplete="off" value="fish">
                                    <span class="fa fa-cube fa-2x"></span>
                                    <h5>Fish/Shellfish</h5>
                                </div>
                            </label>
                        </div>
                    </div>
                </div>
                <div class="items col-xs-6 col-sm-3 col-md-3 col-lg-3">
                    <div class="info-block block-info clearfix">
                        <div data-toggle="buttons" class="btn-group itemcontent">
                            <label class="btn btn-default" id="milkbutton">
                                <div class="itemcontent" onclick="toggleMilk();">
                                    <input type="checkbox" id="deezmilk" name="milk" autocomplete="off" value="milk">
                                    <span class="fa fa-lock fa-2x"></span>
                                    <h5>Milk</h5>
                                </div>
                            </label>
                        </div>
                    </div>
                </div>                
                <div class="items col-xs-6 col-sm-3 col-md-3 col-lg-3">
                    <div class="info-block block-info clearfix">
                        <div data-toggle="buttons" class="btn-group itemcontent">
                            <label class="btn btn-default" id="otherbutton">
                                <div class="itemcontent" onclick="toggleOther();">
                                    <input type="checkbox" id="other" name="other" autocomplete="off" value="other">
                                    <span class="fa fa-barcode fa-2x"></span>
                                    <h5>Other</h5>
                                </div>
                            </label>
                        </div>
                    </div>
                </div>                
                         

            </div>
        </div>
    </div>

</div>
	
	<div style="height: 40px;">&nbsp;</div>
	
	<h1>CUISINES</h1>
    <h2>Help us get to know your taste buds! <br>How much do you enjoy...</h2>
    <p>(On a scale of 1-10. Feel free to skip any!)</p>
    <H2>Japanese food?</H2>
    <output for="fader" id="japanese" style="display: inline; position: relative; top: -2px; font-size: 18px;">10</output>
    <br>
    <input type="range" name="japanese" min="1" max="10" value="10" id="fader" step="1" oninput="outputJapanese(value)" style="width: 240px;">
    
    <H2>Korean food?</H2>
    <output for="fader" id="korean" style="display: inline; position: relative; top: -2px; font-size: 18px;">10</output>
    <br>
    <input type="range" name="korean" min="1" max="10" value="10" id="fader" step="1" oninput="outputKorean(value)" style="width: 240px;">
    
    <H2>Mexican food?</H2>
    <output for="fader" id="mexican" style="display: inline; position: relative; top: -2px; font-size: 18px;">10</output>
    <br>
    <input type="range" name="mexican" min="1" max="10" value="10" id="fader" step="1" oninput="outputMexican(value)" style="width: 240px;">
    
    <H2>American food?</H2>
    <output for="fader" id="american" style="display: inline; position: relative; top: -2px; font-size: 18px;">10</output>
    <br>
    <input type="range" name="american" min="1" max="10" value="10" id="fader" step="1" oninput="outputAmerican(value)" style="width: 240px;">
    
    <H2>Chinese food?</H2>
    <output for="fader" id="chinese" style="display: inline; position: relative; top: -2px; font-size: 18px;">10</output>
    <br>
    <input type="range" name="chinese" min="1" max="10" value="10" id="fader" step="1" oninput="outputChinese(value)" style="width: 240px;">
    
    <!-- Taken from http://www.prepbootstrap.com/bootstrap-template/multi-select-buttons -->
  
<!--http://www.w3schools.com/jquerymobile/tryit.asp?filename=tryjqmob_forms_slider-->
	<br>
	<a href="/chat/" type="button" class="btn btn-default btn-lg animated fadeInUp" style="margin-top: 15px;" onclick="testFunction();">
  				SAVE and START CHATTING &nbsp;<span class="glyphicon glyphicon-arrow-right" aria-hidden="true"></span> 
	</a>

    <a href="/chat/" type="button" class="btn btn-default btn-lg animated fadeInUp" style="margin-top: 15px;" onclick="bottomSkip();">SKIP FOR NOW <span class="glyphicon glyphicon-forward" aria-hidden="true"></span>
    </a>
    <!-- </form>  end form -->
	
  </div>
  <!--main end-->
  
  <div style="display: block; height: 180px;">&nbsp;</div>

	<!-- Taken from http://www.prepbootstrap.com/bootstrap-template/multi-select-buttons -->
<script>
$( document ).ready(function() {
    $.ajax({
        url: '/get',
        dataType: 'json',
        method: 'GET',
        success: function(response) {
            console.log(response);
            document.querySelector('#miles').value = response.miles;
            document.querySelector('#dollars').value = response.dollars;
            document.querySelector('#japanese').value = response.japanese;
            document.querySelector('#korean').value = response.korean;
            document.querySelector('#mexican').value = response.mexican;
            document.querySelector('#american').value = response.american;
            document.querySelector('#chinese').value = response.chinese;
            //deez buttons
            if(response.nuts == "true") {
                $(document.querySelector('#deeznuts')).prop("checked", true);
                $(document.querySelector('#deeznutbutton')).css('background-color', '#007ba7');
                $(document.querySelector('#deeznutbutton')).css('color', '#FFFFFF');
            }
            if(response.soy == "true") {
                $(document.querySelector('#deezsoy')).prop("checked", true);
                $(document.querySelector('#soybutton')).css('background-color', '#007ba7');
                $(document.querySelector('#soybutton')).css('color', '#FFFFFF');
            }
            if(response.egg == "true") {
                $(document.querySelector('#deezeggs')).prop("checked", true);
                $(document.querySelector('#eggbutton')).css('background-color', '#007ba7');
                $(document.querySelector('#eggbutton')).css('color', '#FFFFFF');
            }
            if(response.gluten == "true") {
                $(document.querySelector('#deezglutens')).prop("checked", true);
                $(document.querySelector('#glutenbutton')).css('background-color', '#007ba7');
                $(document.querySelector('#glutenbutton')).css('color', '#FFFFFF');
            }
            if(response.fish == "true") {
                $(document.querySelector('#deezfish')).prop("checked", true);
                $(document.querySelector('#fishbutton')).css('background-color', '#007ba7');
                $(document.querySelector('#fishbutton')).css('color', '#FFFFFF');
            }
            if(response.milk == "true") {
                $(document.querySelector('#deezmilk')).prop("checked", true);
                $(document.querySelector('#milkbutton')).css('background-color', '#007ba7');
                $(document.querySelector('#milkbutton')).css('color', '#FFFFFF');
            }
            if(response.other == "true") {
                $(document.querySelector('#other')).prop("checked", true);
                $(document.querySelector('#otherbutton')).css('background-color', '#007ba7');
                $(document.querySelector('#otherbutton')).css('color', '#FFFFFF');
            }
        },

        error: function(response)  {
            console.log(response);
        }
    });


});

$(function () {
    $('#search').on('keyup', function () {
        var pattern = $(this).val();
        $('.items-collection .items').hide();
        $('.items-collection .items').filter(function () {
            return $(this).text().match(new RegExp(pattern, 'i'));
        }).show();
    });
});

function outputMiles(vol) {
	document.querySelector('#miles').value = vol;
}



function outputDollars(vol) {
	document.querySelector('#dollars').value = vol;
}


$(function () {
    $('#search').on('keyup', function () {
        var pattern = $(this).val();
        $('.items-collection .items').hide();
        $('.items-collection .items').filter(function () {
            return $(this).text().match(new RegExp(pattern, 'i'));
        }).show();
    });
});


function outputJapanese(vol) {
    document.querySelector('#japanese').value = vol;
}

function outputKorean(vol) {
    document.querySelector('#korean').value = vol;
}

function outputMexican(vol) {
    document.querySelector('#mexican').value = vol;
}

function outputAmerican(vol) {
    document.querySelector('#american').value = vol;
}

function outputChinese(vol) {
    document.querySelector('#chinese').value = vol;
}

function toggleNuts() {
    if($(document.querySelector('#deeznuts')).prop("checked"))  {
        deactivate('#deeznuts', '#deeznutbutton');
    }

    else  {
        activate('#deeznuts', '#deeznutbutton');
    }
}

function toggleSoy() {
    if($(document.querySelector('#deezsoy')).prop("checked"))  {
        deactivate('#deezsoy', '#soybutton');
    }

    else  {
        activate('#deezsoy', '#soybutton');
    }
}

function toggleEggs() {
    if($(document.querySelector('#deezeggs')).prop("checked"))  {
        deactivate('#deezeggs', '#eggbutton');
    }

    else  {
        activate('#deezeggs', '#eggbutton');
    }
}

function toggleGluten() {
    if($(document.querySelector('#deezglutens')).prop("checked"))  {
        deactivate('#deezglutens', '#glutenbutton');
    }

    else  {
        activate('#deezglutens', '#glutenbutton');
    }
}

function toggleFish() {
    if($(document.querySelector('#deezfish')).prop("checked"))  {
        deactivate('#deezfish', '#fishbutton');
    }

    else  {
        activate('#deezfish', '#fishbutton');
    }
}

function toggleMilk() {
    if($(document.querySelector('#deezmilk')).prop("checked"))  {
        deactivate('#deezmilk', '#milkbutton');
    }

    else  {
        activate('#deezmilk', '#milkbutton');
    }
}

function toggleOther() {
    if($(document.querySelector('#other')).prop("checked"))  {
        deactivate('#other', '#otherbutton');
    }

    else  {
        activate('#other', '#otherbutton');
    }
}

function activate(firstSelector, secondSelector)  {
    $(document.querySelector(firstSelector)).prop("checked", true);
    $(document.querySelector(secondSelector)).css('background-color', '#007ba7');
    $(document.querySelector(secondSelector)).css('color', '#FFFFFF');
}

function deactivate(firstSelector, secondSelector)  {
    $(document.querySelector(firstSelector)).prop("checked", false);
    $(document.querySelector(secondSelector)).css('background-color', '#FFFFFF');
    $(document.querySelector(secondSelector)).css('color', '#007ba7');
}

function testFunction()  {
    console.log("CELEBRATE SUCCESS RIGHT");
    console.log(document.querySelector('#chinese').value);
    $.ajax({
        url: '/set',
        data: {
            'miles': document.querySelector('#miles').value,
            'dollars': document.querySelector('#dollars').value,
            'japanese': document.querySelector('#japanese').value,
            'korean': document.querySelector('#korean').value,
            'mexican': document.querySelector('#mexican').value,
            'american': document.querySelector('#american').value,
            'chinese': document.querySelector('#chinese').value,
            'nuts': $(document.querySelector('#deeznuts')).prop("checked"),
            'soy': $(document.querySelector('#deezsoy')).prop("checked"),
            'egg': $(document.querySelector('#deezeggs')).prop("checked"),
            'gluten': $(document.querySelector('#deezglutens')).prop("checked"),
            'fish': $(document.querySelector('#deezfish')).prop("checked"),
            'milk': $(document.querySelector('#deezmilk')).prop("checked"),
            'other': $(document.querySelector('#other')).prop("checked")
        },
        success: function(response1) {
            console.log(response1);
        }
    });
}

function bottomSkip()  {
    console.log("BOTTOM SKIP BOI");
    ga('send', 'event', 'bottomSkip', 'click', 'Bottom Skip Clicked');
	ga('send', 'event', 'button', 'click', 'Bottom Skip Clicked');
}

function topSkip()  {
    console.log("TOP SKIP BOI");
	ga('send', 'event', 'topSkip', 'click', 'Top Skip Clicked');
    ga('send', 'event', 'button', 'click', 'Top Skip Clicked');
}

</script>
  </div>
    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://code.jquery.com/jquery.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="/js/bootstrap.min.js"></script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-87473717-1', 'auto');
  ga('send', 'pageview');

</script>
  </body>
</html>
